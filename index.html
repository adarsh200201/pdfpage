<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="google" content="notranslate" />
    <title>
      PdfPage - The Ultimate PDF Toolkit | Merge, Split, Compress & More
    </title>
    <meta
      name="description"
      content="PdfPage is the ultimate PDF toolkit. Merge, split, compress, convert, and edit PDF files online. Free and premium tools for all your PDF needs."
    />
    <meta
      name="keywords"
      content="PDF tools, merge PDF, split PDF, compress PDF, PDF converter, PDF editor, PdfPage"
    />
    <meta property="og:title" content="PdfPage - The Ultimate PDF Toolkit" />
    <meta
      property="og:description"
      content="Powerful PDF tools to merge, split, compress, and convert your documents. Free and premium options available."
    />
    <meta property="og:type" content="website" />
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:title" content="PdfPage - The Ultimate PDF Toolkit" />
    <meta
      name="twitter:description"
      content="Transform your PDFs with PdfPage's comprehensive toolkit. Merge, split, compress & more."
    />
    <!-- Enhanced PDF Worker Configuration (load early to configure before PDF components) -->
    <script src="/pdf.worker.config.js"></script>
    <script src="/pdf.worker.enhanced.js"></script>

    <!-- FullStory Configuration (prevent namespace conflicts) -->
    <script>
      // Set FullStory namespace to prevent conflicts
      window["_fs_namespace"] = "FS_PDF";

      // Completely disable FullStory to prevent namespace conflicts with PDF.js
      window.FS_DISABLE = true;

      // Override any existing FullStory initialization
      window.FS = window.FS || {
        identify: function () {},
        setUserVars: function () {},
        setVars: function () {},
        consent: function () {},
        restart: function () {},
        shutdown: function () {},
        log: function () {},
      };

      // Prevent FullStory initialization conflicts with PDF processing
      if (
        typeof process !== "undefined" &&
        process?.env?.NODE_ENV === "development"
      ) {
        window.FS_DISABLE = true;
      }
    </script>

    <!-- Google Translate -->
    <script type="text/javascript">
      let translateInitialized = false;

      function googleTranslateElementInit() {
        if (translateInitialized) return;

        try {
          // Initialize only once to avoid conflicts
          new google.translate.TranslateElement(
            {
              pageLanguage: "en",
              includedLanguages:
                "en,es,fr,de,it,pt,ja,ru,ko,zh-cn,zh-tw,ar,bg,ca,nl,el,hi,id,ms,pl,sv,th,tr,uk,vi",
              layout: google.translate.TranslateElement.InlineLayout.SIMPLE,
              autoDisplay: false,
              multilanguagePage: true,
            },
            "google_translate_element",
          );

          translateInitialized = true;

          // Hide the Google Translate widget but keep functionality
          setTimeout(() => {
            const widget = document.getElementById("google_translate_element");
            if (widget) {
              widget.style.display = "none";
            }
          }, 1000);
        } catch (error) {
          // Google Translate initialization failed silently
        }
      }

      // Function to hide all Google Translate UI elements
      function hideGoogleTranslateUI() {
        // Hide banner frame
        const bannerFrame = document.querySelector(".goog-te-banner-frame");
        if (bannerFrame) {
          bannerFrame.style.display = "none";
        }

        // Hide notification popups
        const notifications = document.querySelectorAll(
          ".VIpgJd-ZVi9od-aZ2wEe-wOHMyf, .VIpgJd-ZVi9od-aZ2wEe-wOHMyf-ti6hGc, .goog-te-spinner-pos, .jfk-bubble, .goog-tooltip",
        );
        notifications.forEach((el) => {
          el.style.display = "none";
        });

        // Remove top margin from body
        document.body.style.top = "0px";
        document.body.style.marginTop = "0px";

        // Hide any iframe popups
        const iframes = document.querySelectorAll(
          'iframe[src*="translate.google"]',
        );
        iframes.forEach((iframe) => {
          iframe.style.display = "none";
        });
      }

      // Function to change language programmatically
      window.changeLanguage = function (langCode) {
        try {
          // Hide Google Translate UI immediately
          hideGoogleTranslateUI();

          // Set the Google Translate cookie for immediate effect
          const domain = window.location.hostname;
          document.cookie = `googtrans=/en/${langCode}; path=/; domain=${domain}`;
          document.cookie = `googtrans=/en/${langCode}; path=/`;

          // Also set it for different domain formats
          if (domain.includes("localhost")) {
            document.cookie = `googtrans=/en/${langCode}; path=/; domain=localhost`;
          }

          // Hide UI elements again before reload
          setTimeout(hideGoogleTranslateUI, 100);

          // Trigger page reload to apply translation
          window.location.reload();
        } catch (error) {
          console.error("Language change failed:", error);
        }
      };

      // Get current language from cookie
      window.getCurrentLanguage = function () {
        const langCookie = document.cookie
          .split(";")
          .find((c) => c.trim().startsWith("googtrans="));
        if (langCookie) {
          const lang = langCookie.split("=")[1].split("/")[2];
          return lang || "en";
        }
        return "en";
      };

      // Continuously hide Google Translate UI elements
      function startHidingGoogleTranslateUI() {
        // Hide immediately
        hideGoogleTranslateUI();

        // Hide every 500ms to catch any dynamic elements
        setInterval(hideGoogleTranslateUI, 500);

        // Also hide on any DOM mutations
        const observer = new MutationObserver(hideGoogleTranslateUI);
        observer.observe(document.body, {
          childList: true,
          subtree: true,
          attributes: true,
        });
      }

      // Initialize when page loads
      document.addEventListener("DOMContentLoaded", () => {
        setTimeout(() => {
          if (
            window.google &&
            window.google.translate &&
            !translateInitialized
          ) {
            googleTranslateElementInit();
          }
          // Start hiding Google Translate UI
          startHidingGoogleTranslateUI();
        }, 1000);
      });
    </script>
    <script
      type="text/javascript"
      src="https://translate.google.com/translate_a/element.js?cb=googleTranslateElementInit"
    ></script>

    <script
      async
      src="https://www.googletagmanager.com/gtag/js?id=G-JK9DPSTB10"
    ></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag() {
        dataLayer.push(arguments);
      }
      gtag("js", new Date());

      gtag("config", "G-JK9DPSTB10");
    </script>
  </head>

  <body>
    <div id="root"></div>

    <script type="module" src="/src/main.tsx"></script>
  </body>
</html>
